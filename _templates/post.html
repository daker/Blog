{% extends 'layout.html' %}

{% set prev = posts[posts.index(post) + 1]|d() %}
{% set next = posts[:posts.index(post)]|last|d() %}

{% block extrahead %}<title>{{ post.title }} &ndash; {{ site.title }}</title>
    <meta name="description" content="{{ site.description }}">
    <meta name="title" content="{{ post.title }} &ndash; {{ site.title }}">
    <meta property="og:image" content="http://daker.me{{ get_asset('images/avatar.png') }}">
    <meta property="og:title" content="{{ post.title }} &ndash; {{ site.title }}">
    <meta property="og:site_name" content="Adnane Belmadiaf">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@AdnaneBelmadiaf">
    <meta property="twitter:image" content="http://daker.me{{ get_asset('images/avatar.png') }}">
    <meta property="twitter:title" content="{{ post.title }} &ndash; {{ site.title }}">
    <meta property="twitter:url" content="http://dake.me{{ get_url(post.url) }}">
    <meta name="twitter:creator" content="@AdnaneBelmadiaf">
    <meta property="og:description" content="{{ post.excerpt }}">
    <meta name="twitter:description" content="{{ post.excerpt }}">{% endblock %}

{% block published %}
    <div class="post-published-date">
        <strong>Published</strong>
        <p>
            <time pubdate datetime="{{ post.timestamp|date('%Y-%m-%d %H:%M:%S+01:00') }}" class="post-date">{{ post.timestamp|date('%b %d, %Y at %H:%M') }}</time>
        </p>
    </div>
    {% if post.tags %}
    <div class="post-tags">
        <strong>Tags</strong>
        <p>
        {% for tag in post.tags %}
            <a href="{{ get_url(tags[tag].url) }}" itemprop="keywords">#{{ tag }}</a>
        {% if not loop.last %}, {% endif %}{% endfor %}
        </p>
    </div>
    {% endif %}
{% endblock %}

{% block content %}
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header class="post-header">
        <h1 itemprop="name headline" class="post-title">{{ post.title }}</h1>
    </header>
    <div class="post-social">
    </div>
    <div class="post-content">
        <div class="post-field body" itemprop="articleBody">{{ post.content }}</div>
    </div>
    {% if prev or next %}
    <div class="prev-next">
        {% if prev %}
        <div class="prev-post">
            <a href="{{ get_url(prev.url) }}" title="{{ prev.title }}" class="title"><span>{{ prev.title }}</span></a>
        </div>
        {% endif %}
        {% if next %}
        <div class="next-post">
            <a href="{{ get_url(next.url) }}" title="{{ next.title }}" class="title"><span>{{ next.title }}</span></a>
        </div>
        {% endif %}
    </div>
    {% endif %}
</article>
<section id="comment">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'daker-blog'; // required: replace example with your forum shortname
        var disqus_title = '{{ post.title }}';
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>
{% endblock %}